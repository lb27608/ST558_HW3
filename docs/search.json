[
  {
    "objectID": "ST558_HW3.html",
    "href": "ST558_HW3.html",
    "title": "ST 558 Homework 3",
    "section": "",
    "text": "To get started, we’ll add a new column called status to each data frame in bp_list:\n\nload(\"hw2_list.rda\")\n\nbp_list$treatment$status &lt;- character(20)\nbp_list$placebo$status &lt;- character(10)\n\nNext, we’ll classify each post-treatment blood pressure measurement as\n\nNormal (≤120 mm Hg)\nBorderline (&gt;120 and ≤ 140 mm Hg)\nHigh (≥140 mmHg)\n\nusing a for loop and if/then/else logic:\n\nfor (i in 1:20) \n{\nif (bp_list$treatment$post_bp[i] &lt;= 120) bp_list$treatment$status[i] &lt;- \"Normal\"\nelse if (bp_list$treatment$post_bp[i]&gt;120 &  bp_list$treatment$post_bp[i]&lt;=140) bp_list$treatment$status[i] &lt;- \"Borderline\"\nelse bp_list$treatment$status[i] &lt;- \"High\"\n}\nhead(bp_list$treatment)\n\n            patient pre_bp post_bp diff_bp normal     status\nSubject_1 Subject_1    120     127      -7  FALSE Borderline\nSubject_2 Subject_2    151     145       6  FALSE       High\nSubject_3 Subject_3    125     135     -10  FALSE Borderline\nSubject_4 Subject_4    126     122       4  FALSE Borderline\nSubject_5 Subject_5    115     115       0   TRUE     Normal\nSubject_6 Subject_6    132     122      10  FALSE Borderline\n\n\nA similar for loop does the same classification for the placebo group:\n\nfor (i in 1:10) \n{\nif (bp_list$placebo$post_bp[i] &lt;= 120) bp_list$placebo$status[i] &lt;- \"Normal\"\nelse if (bp_list$placebo$post_bp[i]&gt;120 &  bp_list$placebo$post_bp[i]&lt;=140) bp_list$placebo$status[i] &lt;- \"Borderline\"\nelse bp_list$placebo$status[i] &lt;- \"High\"\n}\nhead(bp_list$placebo)\n\n    patient pre_bp post_bp diff_bp normal     status\n1 Subject_1    138     105      33   TRUE     Normal\n2 Subject_2    135     136      -1  FALSE Borderline\n3 Subject_3    147     123      24  FALSE Borderline\n4 Subject_4    117     130     -13  FALSE Borderline\n5 Subject_5    152     134      18  FALSE Borderline\n6 Subject_6    134     143      -9  FALSE       High"
  },
  {
    "objectID": "ST558_HW3.html#task-1-control-flow-practice",
    "href": "ST558_HW3.html#task-1-control-flow-practice",
    "title": "ST 558 Homework 3",
    "section": "",
    "text": "To get started, we’ll add a new column called status to each data frame in bp_list:\n\nload(\"hw2_list.rda\")\n\nbp_list$treatment$status &lt;- character(20)\nbp_list$placebo$status &lt;- character(10)\n\nNext, we’ll classify each post-treatment blood pressure measurement as\n\nNormal (≤120 mm Hg)\nBorderline (&gt;120 and ≤ 140 mm Hg)\nHigh (≥140 mmHg)\n\nusing a for loop and if/then/else logic:\n\nfor (i in 1:20) \n{\nif (bp_list$treatment$post_bp[i] &lt;= 120) bp_list$treatment$status[i] &lt;- \"Normal\"\nelse if (bp_list$treatment$post_bp[i]&gt;120 &  bp_list$treatment$post_bp[i]&lt;=140) bp_list$treatment$status[i] &lt;- \"Borderline\"\nelse bp_list$treatment$status[i] &lt;- \"High\"\n}\nhead(bp_list$treatment)\n\n            patient pre_bp post_bp diff_bp normal     status\nSubject_1 Subject_1    120     127      -7  FALSE Borderline\nSubject_2 Subject_2    151     145       6  FALSE       High\nSubject_3 Subject_3    125     135     -10  FALSE Borderline\nSubject_4 Subject_4    126     122       4  FALSE Borderline\nSubject_5 Subject_5    115     115       0   TRUE     Normal\nSubject_6 Subject_6    132     122      10  FALSE Borderline\n\n\nA similar for loop does the same classification for the placebo group:\n\nfor (i in 1:10) \n{\nif (bp_list$placebo$post_bp[i] &lt;= 120) bp_list$placebo$status[i] &lt;- \"Normal\"\nelse if (bp_list$placebo$post_bp[i]&gt;120 &  bp_list$placebo$post_bp[i]&lt;=140) bp_list$placebo$status[i] &lt;- \"Borderline\"\nelse bp_list$placebo$status[i] &lt;- \"High\"\n}\nhead(bp_list$placebo)\n\n    patient pre_bp post_bp diff_bp normal     status\n1 Subject_1    138     105      33   TRUE     Normal\n2 Subject_2    135     136      -1  FALSE Borderline\n3 Subject_3    147     123      24  FALSE Borderline\n4 Subject_4    117     130     -13  FALSE Borderline\n5 Subject_5    152     134      18  FALSE Borderline\n6 Subject_6    134     143      -9  FALSE       High"
  },
  {
    "objectID": "ST558_HW3.html#task-2-function-writing",
    "href": "ST558_HW3.html#task-2-function-writing",
    "title": "ST 558 Homework 3",
    "section": "Task 2: Function Writing",
    "text": "Task 2: Function Writing\nFor this task, we create a function that takes a list containing 2 data frames (treatment and placebo) and a summary function (with a default value of mean) as arguments:\n\ndf_stat &lt;- function(df_list,stat=\"mean\") {\n  my_fun &lt;- get(stat)\n  trt_sum&lt;-c(my_fun(df_list$treatment$pre_bp),my_fun(df_list$treatment$post_bp),my_fun(df_list$treatment$diff_bp))\n  placebo_sum&lt;-c(my_fun(df_list$placebo$pre_bp),my_fun(df_list$placebo$post_bp),my_fun(df_list$placebo$diff_bp))\n  final_sum&lt;-c(trt_sum,placebo_sum)\n  \n  vec_names&lt;-c(\"Pre-treatment\",\"Post-treatment\",\"Treatment difference\",\"Pre-placebo\",\"Post-placebo\",\"Placebo difference\")\n  result_names&lt;-paste(vec_names,stat)\n  \n  names(final_sum)&lt;-result_names\n  return(final_sum)\n}\n\nWe can now apply this function to the bp_list object to obtain a variety of summary statistics for the blood pressure data:\n\nMean:\n\n\ndf_stat(bp_list)\n\n       Pre-treatment mean       Post-treatment mean Treatment difference mean \n                   131.60                    125.95                      5.65 \n         Pre-placebo mean         Post-placebo mean   Placebo difference mean \n                   131.90                    128.90                      3.00 \n\n\n\nVariance:\n\n\ndf_stat(bp_list,stat=\"var\")\n\n       Pre-treatment var       Post-treatment var Treatment difference var \n                75.72632                 78.99737                117.81842 \n         Pre-placebo var         Post-placebo var   Placebo difference var \n               149.87778                124.98889                341.33333 \n\n\n\nStandard deviation:\n\n\ndf_stat(bp_list,stat=\"sd\")\n\n       Pre-treatment sd       Post-treatment sd Treatment difference sd \n               8.702087                8.888046               10.854419 \n         Pre-placebo sd         Post-placebo sd   Placebo difference sd \n              12.242458               11.179843               18.475209 \n\n\n\nMinimum:\n\n\ndf_stat(bp_list,stat=\"min\")\n\n       Pre-treatment min       Post-treatment min Treatment difference min \n                     115                      114                      -24 \n         Pre-placebo min         Post-placebo min   Placebo difference min \n                     114                      105                      -21 \n\n\n\nMaximum:\n\n\ndf_stat(bp_list,stat=\"max\")\n\n       Pre-treatment max       Post-treatment max Treatment difference max \n                     151                      146                       21 \n         Pre-placebo max         Post-placebo max   Placebo difference max \n                     152                      143                       33"
  }
]